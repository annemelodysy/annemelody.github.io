//Thumbnail layout
.thumbnails {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  grid-gap: 8rem;
  align-items: center;
  padding: 4rem;
  text-align: center;

  img {
    width: 100%;
    display: block;
    height: auto;
    margin-bottom: 1rem;
  }

  .uppercase { font-size: 0.875rem; }

  .item {
    transition: transform .8s;

    &:hover {
      transform: perspective(10rem) rotateY(5deg);
      transition: transform .5s;
    }
  }
}

//Default post layout
.title {
  margin: 0 auto;
  width: 60%;
  font-size: 3rem;
  font-weight: 700;
  letter-spacing: 0.6rem;
  text-align: center;
}

.post {
  a {
    color: darken($seafoam, 25%);

    &:hover { color: darken($brown, 25%); }
  }
}

.cover-container { margin: 1.5rem auto; }

.post-cover {
  object-fit: cover;
  width: 100%;
  height: 44rem;
  display: block;
}

.comments {
  margin: 2rem 0;
  min-height: auto;
}

//Yearly layout
.yearly-bg {
  height: 100vh;
  position: relative;

  img {
    cursor: zoom-in;
    width: 100%;
    display: block;
    height: auto;
  }

  .title { width: 100%; }

  .grid { grid-gap: 0; }

  a {
    color: darken($seafoam, 25%);

    &:hover { color: darken($brown, 25%); }
  }
}

.yearly-item {
  position: absolute;
  transition: all .5s ease-in-out;

  &:nth-child(2) {
    @include float(-2rem, 2rem, 12s);
    top: 3rem;
    left: 8rem;
    width: 7%;
  }

  &:nth-child(3) {
    @include float(1rem, -0.5rem, 10s);
    top: 1rem;
    left: 27rem;
    width: 8%;
  }

  &:nth-child(4) {
    @include float(-1.5rem, -1rem, 15s);
    top: 5rem;
    left: 43rem;
    width: 9%;
  }

  &:nth-child(5) {
    @include float(1.5rem, 2rem, 11s);
    top: 6rem;
    right: 32rem;
    width: 10%;
  }

  &:nth-child(6) {
    @include float(1rem, -0.5rem, 10s);
    top: 4rem;
    right: 13rem;
    width: 11%;
  }

  &:nth-child(7) {
    @include float(-2rem, 2rem, 12s);
    bottom: 18rem;
    right: 8rem;
    width: 9%;
  }

  &:nth-child(8) {
    @include float(1rem, -0.5rem, 10s);
    bottom: 6rem;
    right: 24rem;
    width: 8%;
  }

  &:nth-child(9) {
    @include float(1.5rem, 2rem, 15s);
    bottom: 11rem;
    right: 35rem;
    width: 8%;
  }

  &:nth-child(10) {
    @include float(1.5rem, 2rem, 13s);
    bottom: 6rem;
    right: 51rem;
    width: 11%;
  }

  &:nth-child(11) {
    @include float(0.5rem, -0.5rem, 8s);
    bottom: 8rem;
    left: 25rem;
    width: 7%;
  }

  &:nth-child(12) {
    @include float(1rem, -0.5rem, 10s);
    bottom: 10rem;
    left: 10rem;
    width: 10%;
  }

  &:nth-child(13) {
    @include float(1rem, -0.5rem, 10s);
    top: 22rem;
    left: 13rem;
    width: 9%;
  }

  &.open {
    z-index: 20;
    background: $white;
    width: 30vw;
    top: 2%;
    bottom: unset;
    overflow: hidden;
    padding: 1rem;

    img {
      cursor: zoom-out;
      margin-bottom: 1rem;
    }
  }

  p {
    display: none;
    width: 28vw;
  }
}

.curtain {
  display: none;
  z-index: 10;
  background: rgba(0,0,0,0.8);
  position: fixed;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
}

//Audio
.play-sound {
  position: relative;

  .control {
    position: absolute;
    font-weight: bold;
    font-size: 1.5rem;
    right: 1.5rem;
    top: 1.5rem;
    color: $white;
    z-index: 100;
    cursor: pointer;
  }
}

.transnight { margin-bottom: 2rem; }

.dark-bg {
  background: $black;
  color: $white;
}

.with-text {
  p {
    margin-bottom: 1.5rem;
  }
}


//Resume stuff
.resume {
}

.process {
  padding: 4rem 0;
}


//Large screens only
@media only screen and (min-width : 768px) {
  .blastable, .blast { opacity: 0; }

  .cover-container { height: 44rem; }

  .post-cover {
    height: 44rem;
    display: none;
  }

  #fog {
    @include cover;
    opacity: 0.7;
    width: 100%;
  }

  .parallax {
    @include cover;
    width: 100vw;
    -webkit-box-shadow: inset 0px -7px 10px 2px rgba(0,0,0,0.1);
    -moz-box-shadow: inset 0px -7px 10px 2px rgba(0,0,0,0.1);
    box-shadow: inset 0px -7px 10px 2px rgba(0,0,0,0.1);
    color: $white;
    text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.5);

    img { display: none; }

    div {
      opacity: 0;
      padding: 4rem;
    }

    p { font-size: 1.5rem; }

    .invert {
      color: $black;
      text-shadow: none;
    }

    .text-start { align-content: start; }

    .text-bottom { align-content: end; }
  }
}

//Mobile
@media only screen and (min-width : 300px) and (max-width : 767px) {
  .thumbnails {
    grid-gap: 2rem;
    padding: 2rem 4rem;
  }

  .title {
    width: 100%;
    padding: 0 1.5rem;
    letter-spacing: 0.2rem;
    font-size: 1.25rem;
  }

  .cover-container { margin-top: 0.5rem; }

  .post-cover {
    height: 16rem;
    width: 100vw;
  }

  //Yearly theme
  .yearly-bg {
    padding: 0 1.5rem;
    height: auto;

    .grid, .title {
      padding: 0;
    }
  }

  .yearly-item {
    animation: none !important;
    width: 100% !important;
    position: static;

    p {
      display: block;
      width: 100%;
      margin-bottom: 1.5rem;
    }

    img { margin-bottom: 1rem; }
  }

  //Parallax
  .parallax {
    flex-direction: column;

    img {
      display: block;
      width: 100%;
      height: auto;
      margin-bottom: 1.5rem;
    }

    .text-center {
      text-align: left;
    }
  }
}

//Tablet
@media only screen and (min-width : 768px) and (max-width : 1024px) {
  .title {
    width: 80%;
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .cover-container, .post-cover {
    height: 28rem;
  }

  //Yearly
  .yearly-bg {
    .grid { min-height: 100vh; }
  }

  .yearly-item {
    &:nth-child(2) {
      left: 4rem;
      width: 6rem;
    }

    &:nth-child(3) {
      left: 13rem;
      width: 6rem;
    }

    &:nth-child(4) {
      top: 4rem;
      left: 21rem;
      width: 7rem;
    }

    &:nth-child(5) {
      top: 12rem;
      right: 10rem;
      width: 9rem;
    }

    &:nth-child(6) {
      right: 4rem;
      width: 8rem;
    }

    &:nth-child(7) {
      bottom: 12rem;
      right: 2rem;
      width: 7rem;
    }

    &:nth-child(8) {
      right: 12rem;
      width: 7rem;
    }

    &:nth-child(9) {
      right: 21rem;
      width: 6rem;
    }

    &:nth-child(10) {
      right: 27rem;
      width: 7rem;
    }

    &:nth-child(11) {
      left: 11rem;
      width: 6rem;
    }

    &:nth-child(12) {
      left: 1rem;
      width: 8rem;
    }

    &:nth-child(13) {
      top: 13rem;
      left: 2rem;
      width: 8rem;
    }

    &.open {
      width: 30rem;
      left: 15vh;
      bottom: unset;
    }

    p { width: 28rem; }
  }
}
